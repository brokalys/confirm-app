(this["webpackJsonpconfirm-app"]=this["webpackJsonpconfirm-app"]||[]).push([[0],{17:function(e,n,t){e.exports=t(53)},22:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),o=t.n(r),i=(t(22),t(3)),s=t.n(i),u=t(14),l=t(2),p=t(15),m=t.n(p),f=t(16),b=t.n(f);t(52);var d=function(e){var n=Object(a.useState)(!1),t=Object(l.a)(n,2),r=t[0],o=t[1],i=Object(a.useState)(!1),p=Object(l.a)(i,2),f=p[0],d=p[1],h=Object(a.useState)(),k=Object(l.a)(h,2),v=k[0],w=k[1],y=Object(a.useState)(),j=Object(l.a)(y,2),E=j[0],O=j[1];function g(){return(g=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://api.brokalys.com/",{query:"\n          mutation {\n            confirmPinger(\n              id: ".concat(E,',\n              confirm_key: "').concat(v,'",\n            )\n          }\n        ')});case 3:o(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=b.a.parse(window.location.search);w(e.key),O(e.id)}),[]),v&&E?r?c.a.createElement("p",{className:"feedback-success"},"Confirmed succesfully."):f?c.a.createElement("p",{className:"feedback-error"},"Failed confirming. Please try again later."):c.a.createElement("div",null,c.a.createElement("p",null,"Are you sure You want to confirm this PINGER?"),c.a.createElement("button",{onClick:function(){return g.apply(this,arguments)}},"Yes")):c.a.createElement("p",{className:"feedback-error"},"Invalid link.")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.54d66b3b.chunk.js.map